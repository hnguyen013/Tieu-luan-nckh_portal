{% extends "portal/home_base.html" %}
{% load static %}

{% block title %}Chi ti·∫øt gi·∫£ng vi√™n{% endblock %}

{% block extra_css %}
  <link rel="stylesheet" href="{% static 'portal/css/lecturer_detail.css' %}">
{% endblock %}

{% block content %}
<section class="ld-wrap">
  <div class="container">

    <!-- HERO -->
    <div class="ld-hero">
      <div class="ld-hero__left">
        <div class="ld-avatar">
          {% if lecturer.avatar %}
            <img src="{{ lecturer.avatar.url }}" alt="{{ lecturer.full_name }}">
          {% else %}
            <div class="ld-avatar__placeholder">üë§</div>
          {% endif %}
        </div>

        <div class="ld-title">
          <h1 class="ld-name">{{ lecturer.full_name }}</h1>

          <div class="ld-sub">
            {% if lecturer.academic_rank %}
              <span class="badge badge-main">{{ lecturer.academic_rank }}</span>
            {% endif %}
            {% if lecturer.degree %}
              <span class="badge">{{ lecturer.degree }}</span>
            {% endif %}
            <span class="badge badge-soft">Gi·∫£ng vi√™n</span>
          </div>

          <div class="ld-backline">
            <a href="{% url 'portal:public-lecturer-list' %}" class="back-link">
              ‚Üê Quay l·∫°i danh s√°ch gi·∫£ng vi√™n
            </a>
          </div>
        </div>
      </div>

      <!-- STATS -->
      <div class="ld-stats">
        <div class="stat">
          <div class="stat__num">{{ projects|length }}</div>
          <div class="stat__label">ƒê·ªÄ T√ÄI</div>
        </div>
        <div class="stat">
          <div class="stat__num">{{ specialties|length }}</div>
          <div class="stat__label">CHUY√äN M√îN</div>
        </div>
        <div class="stat">
          <div class="stat__num">{{ languages|length }}</div>
          <div class="stat__label">NGO·∫†I NG·ªÆ</div>
        </div>
      </div>
    </div>

    <!-- GRID 2 C·ªòT -->
    <div class="ld-grid">

      <!-- Th√¥ng tin -->
      <div class="card">
        <div class="card__title">Th√¥ng tin</div>

        <div class="info-list">
          <div class="info-row">
            <div class="info-k">Khoa</div>
            <div class="info-v">{{ lecturer.faculty.name }}</div>
          </div>

          <div class="info-row">
            <div class="info-k">Email</div>
            <div class="info-v">
              {% if lecturer.email %}
                <a class="link" href="mailto:{{ lecturer.email }}">{{ lecturer.email }}</a>
              {% else %}
                ‚Äî
              {% endif %}
            </div>
          </div>

          {% if lecturer.phone_number %}
          <div class="info-row">
            <div class="info-k">Li√™n h·ªá</div>
            <div class="info-v">{{ lecturer.phone_number }}</div>
          </div>
          {% endif %}

          {% if lecturer.degree %}
          <div class="info-row">
            <div class="info-k">H·ªçc v·ªã</div>
            <div class="info-v">{{ lecturer.degree }}</div>
          </div>
          {% endif %}

          {% if lecturer.academic_rank %}
          <div class="info-row">
            <div class="info-k">Ch·ª©c danh</div>
            <div class="info-v">{{ lecturer.academic_rank }}</div>
          </div>
          {% endif %}
        </div>
      </div>

      <!-- Chuy√™n m√¥n -->
      <div class="card">
        <div class="card__title">Chuy√™n m√¥n</div>

        <div class="section">
          <div class="section__label">Chuy√™n m√¥n gi·∫£ng d·∫°y</div>
          {% if specialties %}
            <ul class="chips">
              {% for s in specialties %}
                <li class="chip">{{ s.specialty }}</li>
              {% endfor %}
            </ul>
          {% else %}
            <div class="muted">Ch∆∞a c·∫≠p nh·∫≠t chuy√™n m√¥n.</div>
          {% endif %}
        </div>
      </div>

    </div>

    <!-- Ngo·∫°i ng·ªØ -->
    <div class="card">
      <div class="card__title">Ngo·∫°i ng·ªØ</div>

      {% if languages %}
        <div class="lang-list">
          {% for x in languages %}
            <div class="lang-row">
              <div class="lang-name">{{ x.language }}</div>
              <div class="lang-level">{{ x.level }}</div>
            </div>
          {% endfor %}
        </div>
      {% else %}
        <div class="muted">Ch∆∞a c·∫≠p nh·∫≠t ngo·∫°i ng·ªØ.</div>
      {% endif %}
    </div>

    <!-- ƒê·ªÅ t√†i h∆∞·ªõng d·∫´n -->
    <div class="card">
      <div class="card__title">Danh s√°ch ƒë·ªÅ t√†i h∆∞·ªõng d·∫´n</div>

      {% if projects %}
        <div class="project-list">
          {% for p in projects %}
            <a class="project-item" href="{% url 'portal:public-project-detail' p.code %}">
              <div class="project-title">{{ p.title }}</div>
              <div class="project-code">{{ p.code }}</div>
            </a>
          {% endfor %}
        </div>
      {% else %}
        <div class="muted">Ch∆∞a c√≥ ƒë·ªÅ t√†i h∆∞·ªõng d·∫´n.</div>
      {% endif %}
    </div>

  </div>
</section>
{% endblock %}
